import{M as L,j as q,h as R,I as x,X as E,i as U}from"./index-608b9304.js";import{i as A,l as S,f as P}from"./page-f3fa5d52.js";class _{constructor(){this.promises={},this.raf=q.bind(null),this.scheduled=!1}do(e,t){let s=this.promises[e];return s||(this.scheduleFlush(),s=this.promises[e]=R()),t!==void 0&&s.then(()=>t()),s}measure(e){return this.do("read",e)}mutate(e){return this.do("write",e)}mutateElement(e,t){const s=A(e),n=s?this.mutate():Promise.resolve();return t!==void 0&&(s?n.then(()=>t()):t()),n}scheduleFlush(){this.scheduled||(this.scheduled=!0,this.raf(()=>{this.promises.read&&this.promises.read.resolve(),this.promises.write&&this.promises.write.resolve(),this.scheduled=!1,this.promises={}}))}}const y=new _;L&&(L.sequentialDom=y);let B=0;function O(i,e=()=>Promise.resolve(),t=null,s=!1,n=i){if(i.querySelector(".c-ripple"))return;i.classList.add("rp");const l=document.createElement("div");l.classList.add("c-ripple"),i.classList.contains("rp-square")&&l.classList.add("is-square"),i[s?"prepend":"append"](l);let d;const g=(r,u)=>{const p=Date.now(),a=document.createElement("div"),h=B++,m=+window.getComputedStyle(l).getPropertyValue("--ripple-duration").replace("s","")*1e3,M=d=()=>{const o=Date.now()-p,f=()=>{y.mutate(()=>{a.remove()}),t?.(h)};if(o<m){const v=Math.max(m-o,m/2);setTimeout(()=>a.classList.add("hiding"),Math.max(v-m/2,0)),setTimeout(f,v)}else a.classList.add("hiding"),setTimeout(f,m/2);x||(window.removeEventListener("contextmenu",d),window.removeEventListener("mousemove",d)),d=null,c=!1};e?.(h),q(()=>{if(M!==d)return;const o=l.getBoundingClientRect();a.classList.add("c-ripple__circle");const f=r-o.left,v=u-o.top,w=Math.sqrt((Math.abs(v-o.height/2)+o.height/2)**2+(Math.abs(f-o.width/2)+o.width/2)**2),C=f-w/2,D=v-w/2;a.style.width=a.style.height=w+"px",a.style.left=C+"px",a.style.top=D+"px",l.append(a)})},b=r=>r.target!==i&&(["BUTTON","A"].includes(r.target.tagName)||E(r.target,"c-ripple")!==l)&&(n===i||!P(r.target,n))&&!E(r.target,"checkbox-field");let c=!1;if(x){const r=()=>{d?.()};n.addEventListener("touchstart",u=>{if(!S.isAvailable("animations")||u.touches.length>1||c||b(u))return;c=!0;const{clientX:p,clientY:a}=u.touches[0];g(p,a),n.addEventListener("touchend",r,{once:!0}),window.addEventListener("touchmove",h=>{h.cancelBubble=!0,h.stopPropagation(),r(),n.removeEventListener("touchend",r)},{once:!0})},{passive:!0})}else n.addEventListener("mousedown",r=>{if(![0,2].includes(r.button)||!S.isAvailable("animations")||n.dataset.ripple==="0"||b(r))return;if(c){c=!1;return}const{clientX:u,clientY:p}=r;g(u,p),window.addEventListener("mouseup",d,{once:!0,passive:!0}),window.addEventListener("contextmenu",d,{once:!0,passive:!0})},{passive:!0})}function X(i,e={}){const t=document.createElement(e.asLink?"a":e.asDiv?"div":"button");return t.className=i+(e.icon?" tgico-"+e.icon:""),e.noRipple||(e.rippleSquare&&t.classList.add("rp-square"),O(t)),e.onlyMobile&&t.classList.add("only-handhelds"),e.disabled&&t.setAttribute("disabled","true"),e.text&&t.append(U(e.text,e.textArgs)),t}function Y(i){const e=new Blob([i],{type:"image/svg+xml;charset=utf-8"});return new Promise(t=>{const s=new FileReader;s.onload=n=>{t(n.target.result)},s.readAsDataURL(e)})}function k(i,e){const t=i.length;if(t!==e.length)return!1;for(let s=0;s<t;++s)if(i[s]!==e[s])return!1;return!0}export{X as B,k as b,O as r,y as s,Y as t};
//# sourceMappingURL=bytesCmp-36048258.js.map
